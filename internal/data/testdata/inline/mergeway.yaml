version: 1
entities:
  User:
    definition:
      id:
        field: id
      file_patterns:
        - data/users/*.yaml
      fields:
        id:
          type: string
          required: true
        name:
          type: string
          required: true
        email:
          type: string
          required: true
  Post:
    definition:
      id:
        field: id
      file_patterns:
        - data/posts/*.yaml
      fields:
        id:
          type: string
          required: true
        title:
          type: string
          required: true
        author:
          type: User
          required: true
        tags:
          type: Tag
          repeated: true
  Tag:
    definition:
      id:
        field: id
      file_patterns:
        - data/tags/*.yaml
      fields:
        id:
          type: string
          required: true
        label:
          type: string
          required: true
